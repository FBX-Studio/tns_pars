# üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞: –ü–æ—á–µ–º—É –Ω–µ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –Ω–æ–≤–æ—Å—Ç–∏

## ‚ùå –û–±–Ω–∞—Ä—É–∂–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### 1. **Telegram** - Rate Limit (Flood Wait)
**–ü—Ä–æ–±–ª–µ–º–∞**: 
```
Error: A wait of 11947 seconds is required
```

**–ü—Ä–∏—á–∏–Ω–∞**: Telegram API –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤. –í—ã —Å–ª–∏—à–∫–æ–º —á–∞—Å—Ç–æ –∑–∞–ø—É—Å–∫–∞–ª–∏ —Å–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö.

**–†–µ—à–µ–Ω–∏–µ**:
- ‚è∞ **–ü–æ–¥–æ–∂–¥–∏—Ç–µ ~3.5 —á–∞—Å–∞** (11947 —Å–µ–∫—É–Ω–¥) –ø–µ—Ä–µ–¥ —Å–ª–µ–¥—É—é—â–∏–º –∑–∞–ø—É—Å–∫–æ–º
- –£–º–µ–Ω—å—à–∏—Ç–µ —á–∞—Å—Ç–æ—Ç—É –∑–∞–ø—É—Å–∫–æ–≤
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–µ–Ω—å—à–µ –∫–∞–Ω–∞–ª–æ–≤ –∑–∞ –æ–¥–∏–Ω —Ä–∞–∑

**–ö–∞–∫ –∏–∑–±–µ–∂–∞—Ç—å –≤ –±—É–¥—É—â–µ–º**:
```python
# –í .env —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Ä–∞–∑—É–º–Ω—ã–π –∏–Ω—Ç–µ—Ä–≤–∞–ª
MONITORING_INTERVAL_MINUTES=180  # 3 —á–∞—Å–∞ –≤–º–µ—Å—Ç–æ 30 –º–∏–Ω—É—Ç
```

### 2. **–Ø–Ω–¥–µ–∫—Å.–î–∑–µ–Ω** - –ö–∞–ø—á–∞
**–ü—Ä–æ–±–ª–µ–º–∞**:
```
–Ø–Ω–¥–µ–∫—Å –ø–æ–∫–∞–∑–∞–ª –∫–∞–ø—á—É
```

**–ü—Ä–∏—á–∏–Ω–∞**: –Ø–Ω–¥–µ–∫—Å –æ–ø—Ä–µ–¥–µ–ª–∏–ª –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö

**–†–µ—à–µ–Ω–∏–µ**:
1. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–æ–∫—Å–∏ –∏–ª–∏ Tor
2. –£–≤–µ–ª–∏—á—å—Ç–µ –∑–∞–¥–µ—Ä–∂–∫–∏ –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏
3. –ó–∞–ø—É—Å–∫–∞–π—Ç–µ —Ä–µ–∂–µ

**–í–∫–ª—é—á–∏—Ç—å Tor** (–≤ `.env`):
```env
USE_TOR=True
TOR_PROXY=socks5h://127.0.0.1:9150
TOR_HOST=127.0.0.1
TOR_PORT=9150
```

### 3. **–û–¥–Ω–æ–∫–ª–∞—Å—Å–Ω–∏–∫–∏** - Secret Key –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω
**–ü—Ä–æ–±–ª–µ–º–∞**:
```
Secret key –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω!
```

**–ü—Ä–∏—á–∏–Ω–∞**: –í API OK —Ç—Ä–µ–±—É–µ—Ç—Å—è `OK_SESSION_SECRET_KEY`, –Ω–æ –∫–æ–ª–ª–µ–∫—Ç–æ—Ä –µ–≥–æ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç

**–†–µ—à–µ–Ω–∏–µ**: –û–±–Ω–æ–≤–∏—Ç—å `ok_api_collector.py` –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è session_secret_key

## üîß –ù–µ–º–µ–¥–ª–µ–Ω–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è

### 1. –ü–æ–¥–æ–∂–¥–∏—Ç–µ –ø–µ—Ä–µ–¥ —Å–ª–µ–¥—É—é—â–∏–º –∑–∞–ø—É—Å–∫–æ–º
```bash
# –ù–ï –∑–∞–ø—É—Å–∫–∞–π—Ç–µ —Å–±–æ—Ä –±–ª–∏–∂–∞–π—à–∏–µ 3-4 —á–∞—Å–∞!
# Telegram API –∑–∞–±–ª–æ–∫–∏—Ä—É–µ—Ç –µ—â–µ –¥–æ–ª—å—à–µ
```

### 2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Ä–∞–∑—É–º–Ω—ã–µ –∏–Ω—Ç–µ—Ä–≤–∞–ª—ã
–í `.env`:
```env
# –£–≤–µ–ª–∏—á—å—Ç–µ –∏–Ω—Ç–µ—Ä–≤–∞–ª –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
MONITORING_INTERVAL_MINUTES=180

# –ò–ª–∏ –∑–∞–ø—É—Å–∫–∞–π—Ç–µ –≤—Ä—É—á–Ω—É—é 1-2 —Ä–∞–∑–∞ –≤ –¥–µ–Ω—å
```

### 3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Tor/–ø—Ä–æ–∫—Å–∏
```env
USE_TOR=True
TOR_PROXY=socks5h://127.0.0.1:9150
TOR_HOST=127.0.0.1
TOR_PORT=9150
```

## ‚úÖ –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

**VK –∏ –ù–æ–≤–æ—Å—Ç–Ω—ã–µ —Å–∞–π—Ç—ã** –¥–æ–ª–∂–Ω—ã —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–æ—Ä–º–∞–ª—å–Ω–æ:
```bash
# –°–æ–±–µ—Ä–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ —Ç–æ–ª—å–∫–æ –∏–∑ VK –∏ –Ω–æ–≤–æ—Å—Ç–µ–π
python final_collection.py --no-telegram --no-zen --no-ok
```

## üìä –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è —Å–±–æ—Ä–∞

### –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–π —Å–±–æ—Ä (–±–µ–∑ —Ä–∏—Å–∫–∞ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏):
```bash
# –£—Ç—Ä–æ–º - VK –∏ –Ω–æ–≤–æ—Å—Ç–∏
python final_collection.py --no-telegram --no-zen --no-ok

# –í–µ—á–µ—Ä–æ–º - Telegram (–µ—Å–ª–∏ –ø—Ä–æ—à–ª–æ >3 —á–∞—Å–æ–≤)
python final_collection.py --no-vk --no-news --no-zen --no-ok
```

### –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã–π –ø–æ–ª–Ω—ã–π —Å–±–æ—Ä:
```bash
# –†–∞–∑ –≤ –Ω–µ–¥–µ–ª—é —Å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º–∏
python final_collection.py --comments
```

## üõ†Ô∏è –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–æ–¥–∞

### –î–ª—è Telegram - –¥–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É flood wait:
```python
# –í telegram_user_collector.py –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å:
import time
from telethon.errors import FloodWaitError

try:
    messages = await self.get_channel_messages(channel)
except FloodWaitError as e:
    logger.warning(f"Flood wait: –Ω—É–∂–Ω–æ –ø–æ–¥–æ–∂–¥–∞—Ç—å {e.seconds} —Å–µ–∫—É–Ω–¥")
    # –ü—Ä–æ–ø—É—Å–∫–∞–µ–º –∏–ª–∏ –∂–¥–µ–º
```

### –î–ª—è OK - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å session_secret_key:
```python
# –í ok_api_collector.py –¥–æ–±–∞–≤–∏—Ç—å:
self.session_secret = Config.get('OK_SESSION_SECRET_KEY', '')
# –ò –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –ø–æ–¥–ø–∏—Å–∏ –∑–∞–ø—Ä–æ—Å–æ–≤
```

## üìù –ò—Ç–æ–≥–∏

| –ö–æ–ª–ª–µ–∫—Ç–æ—Ä | –°—Ç–∞—Ç—É—Å | –ü—Ä–æ–±–ª–µ–º–∞ | –†–µ—à–µ–Ω–∏–µ |
|-----------|--------|----------|---------|
| VK | ‚úÖ OK | –ù–µ—Ç | –†–∞–±–æ—Ç–∞–µ—Ç |
| Telegram | ‚ö†Ô∏è Blocked | Flood Wait 3.5—á | –ü–æ–¥–æ–∂–¥–∞—Ç—å |
| –ù–æ–≤–æ—Å—Ç–∏ | ‚úÖ OK | –ù–µ—Ç | –†–∞–±–æ—Ç–∞—é—Ç |
| –î–∑–µ–Ω | ‚ö†Ô∏è Blocked | –ö–∞–ø—á–∞ | Tor/–ø—Ä–æ–∫—Å–∏ |
| OK | ‚ùå Error | Secret key | –ò—Å–ø—Ä–∞–≤–∏—Ç—å –∫–æ–¥ |

## üéØ –ß—Ç–æ –¥–µ–ª–∞—Ç—å –°–ï–ô–ß–ê–°

1. **–ù–ï –∑–∞–ø—É—Å–∫–∞–π—Ç–µ** Telegram —Å–±–æ—Ä –±–ª–∏–∂–∞–π—à–∏–µ 3-4 —á–∞—Å–∞
2. **–°–æ–±–µ—Ä–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ** –∏–∑ VK –∏ –Ω–æ–≤–æ—Å—Ç–µ–π:
   ```bash
   python final_collection.py --no-telegram --no-zen --no-ok
   ```
3. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ** —Ä–∞–∑—É–º–Ω—ã–µ –∏–Ω—Ç–µ—Ä–≤–∞–ª—ã –≤ `.env`
4. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Tor** –¥–ª—è –æ–±—Ö–æ–¥–∞ –∫–∞–ø—á–∏ –î–∑–µ–Ω–∞
5. **–ß–µ—Ä–µ–∑ 4 —á–∞—Å–∞** –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–ª–Ω—ã–π —Å–±–æ—Ä

## ‚è∞ –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –Ω–∞ —Å–µ–≥–æ–¥–Ω—è

- **20:00-24:00**: –ù–ï –∑–∞–ø—É—Å–∫–∞—Ç—å Telegram
- **–°–µ–π—á–∞—Å**: –°–æ–±—Ä–∞—Ç—å VK + –ù–æ–≤–æ—Å—Ç–∏
- **–ü–æ—Å–ª–µ 00:00**: –ú–æ–∂–Ω–æ –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å Telegram
- **–ó–∞–≤—Ç—Ä–∞**: –ü–æ–ª–Ω—ã–π —Å–±–æ—Ä —Å —Ä–∞–∑—É–º–Ω—ã–º–∏ –∏–Ω—Ç–µ—Ä–≤–∞–ª–∞–º–∏
