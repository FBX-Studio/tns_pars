# ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–∫–∏ `logger is not defined`

## ‚ùå –ü—Ä–æ–±–ª–µ–º–∞

–û—à–∏–±–∫–∞: `name 'logger' is not defined` –ø–æ—è–≤–ª—è–ª–∞—Å—å –≤:
- `async_monitor_websocket.py` 
- `final_collection.py`
- `run_collection_once.py`

**–ü—Ä–∏—á–∏–Ω–∞:** Logger –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è –≤ –∏–º–ø–æ—Ä—Ç–∞—Ö –¥–æ –µ–≥–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è.

---

## ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

### **–§–∞–π–ª—ã –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã:**

1. ‚úÖ `async_monitor_websocket.py` - –¥–æ–±–∞–≤–ª–µ–Ω logger –ø–æ—Å–ª–µ –∏–º–ø–æ—Ä—Ç–æ–≤
2. ‚úÖ `final_collection.py` - –¥–æ–±–∞–≤–ª–µ–Ω import_logger –¥–ª—è –∏–º–ø–æ—Ä—Ç–æ–≤
3. ‚úÖ `run_collection_once.py` - –¥–æ–±–∞–≤–ª–µ–Ω import_logger –¥–ª—è –∏–º–ø–æ—Ä—Ç–æ–≤

### **–ß—Ç–æ –∏–∑–º–µ–Ω–µ–Ω–æ:**

```python
# –ë—ã–ª–æ (–æ—à–∏–±–∫–∞):
from collectors.ok_selenium_collector import OKSeleniumCollector
logger.info("...")  # ‚ùå logger –µ—â–µ –Ω–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω!

logging.basicConfig(...)
logger = logging.getLogger(__name__)  # –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ª–æ–≥–≥–µ—Ä–∞ –ø–æ–∑–∂–µ
```

```python
# –°—Ç–∞–ª–æ (–ø—Ä–∞–≤–∏–ª—å–Ω–æ):
logging.basicConfig(...)
logger = logging.getLogger(__name__)  # –°–Ω–∞—á–∞–ª–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ
import_logger = logging.getLogger('imports')  # –û—Ç–¥–µ–ª—å–Ω—ã–π –¥–ª—è –∏–º–ø–æ—Ä—Ç–æ–≤

from collectors.ok_selenium_collector import OKSeleniumCollector
import_logger.info("...")  # ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç!
```

---

## üöÄ –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å

### **–í–∞—Ä–∏–∞–Ω—Ç 1: Bat-—Ñ–∞–π–ª (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)**

```bash
start_web_fixed.bat
```

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
- ‚úì –û—Å—Ç–∞–Ω–æ–≤–∏—Ç —Å—Ç–∞—Ä—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã
- ‚úì –ü–æ–¥–æ–∂–¥–µ—Ç 2 —Å–µ–∫—É–Ω–¥—ã
- ‚úì –ó–∞–ø—É—Å—Ç–∏—Ç app_enhanced.py

---

### **–í–∞—Ä–∏–∞–Ω—Ç 2: –ö–æ–º–∞–Ω–¥–Ω–∞—è —Å—Ç—Ä–æ–∫–∞**

```bash
# 1. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ä—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã
taskkill /F /IM python.exe

# 2. –ü–æ–¥–æ–∂–¥–∞—Ç—å
timeout /t 2

# 3. –ó–∞–ø—É—Å—Ç–∏—Ç—å
python app_enhanced.py
```

–û—Ç–∫—Ä–æ–π—Ç–µ: `http://localhost:5000`

---

### **–í–∞—Ä–∏–∞–Ω—Ç 3: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–º–∞–Ω–¥–Ω—É—é —Å—Ç—Ä–æ–∫—É –≤–º–µ—Å—Ç–æ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞**

```bash
# –ü–æ–ª–Ω—ã–π —Å–±–æ—Ä (–≤—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç):
python final_collection.py

# –ë—ã—Å—Ç—Ä—ã–π —Å–±–æ—Ä:
python final_collection.py --no-zen --no-ok

# –° –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º–∏:
python final_collection.py --comments
```

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π

### **–¢–µ—Å—Ç 1: –ò–º–ø–æ—Ä—Ç –º–æ–¥—É–ª–µ–π**

```bash
python -c "from async_monitor_websocket import AsyncReviewMonitorWebSocket; print('OK')"
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** `OK`

---

### **–¢–µ—Å—Ç 2: –ó–∞–ø—É—Å–∫ final_collection.py**

```bash
python final_collection.py --no-vk --no-telegram --no-news --no-zen --no-ok
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –ù–µ—Ç –æ—à–∏–±–æ–∫ —Å logger

---

### **–¢–µ—Å—Ç 3: –ó–∞–ø—É—Å–∫ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è**

```bash
python app_enhanced.py
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** 
```
* Running on http://0.0.0.0:5000
```

---

## üìä –°—Ç–∞—Ç—É—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π

| –§–∞–π–ª | –°—Ç–∞—Ç—É—Å | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|--------|----------|
| `async_monitor_websocket.py` | ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω | –î–æ–±–∞–≤–ª–µ–Ω logger –ø–æ—Å–ª–µ –∏–º–ø–æ—Ä—Ç–æ–≤ |
| `final_collection.py` | ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω | –î–æ–±–∞–≤–ª–µ–Ω import_logger |
| `run_collection_once.py` | ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω | –î–æ–±–∞–≤–ª–µ–Ω import_logger |
| `collectors/ok_selenium_collector.py` | ‚úÖ OK | –ù–µ —Ç—Ä–µ–±—É–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π |
| `collectors/telegram_user_collector.py` | ‚úÖ OK | –ù–µ —Ç—Ä–µ–±—É–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π |

---

## üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ (–µ—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã –æ—Å—Ç–∞–ª–∏—Å—å)

### **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:**

```bash
python -c "import logging; logging.basicConfig(level=logging.INFO); logger = logging.getLogger('test'); logger.info('Test OK')"
```

**–î–æ–ª–∂–Ω–æ –≤—ã–≤–µ—Å—Ç–∏:** `INFO:test:Test OK`

---

### **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏–º–ø–æ—Ä—Ç—ã:**

```bash
python -c "from models import Review; from collectors.ok_selenium_collector import OKSeleniumCollector; print('OK')"
```

**–î–æ–ª–∂–Ω–æ –≤—ã–≤–µ—Å—Ç–∏:** `OK`

---

### **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:**

```bash
curl http://localhost:5000
```

**–ò–ª–∏ –æ—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:** `http://localhost:5000`

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

### **–ü–æ—á–µ–º—É –≤–æ–∑–Ω–∏–∫–ª–∞ –æ—à–∏–±–∫–∞?**

–í Python –∏–º–ø–æ—Ä—Ç—ã –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è **–ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ**. –ö–æ–≥–¥–∞ –º—ã –¥–µ–ª–∞–µ–º:

```python
from collectors.ok_selenium_collector import OKSeleniumCollector
logger.info("...")  # ‚ùå logger –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –î–û –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è
logger = logging.getLogger(__name__)  # –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ü–û–°–õ–ï
```

Python –≤—ã–ø–æ–ª–Ω—è–µ—Ç `logger.info("...")` **–¥–æ** –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è `logger = ...`, –ø–æ—ç—Ç–æ–º—É –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –æ—à–∏–±–∫–∞.

---

### **–†–µ—à–µ–Ω–∏–µ:**

1. **–û–ø—Ä–µ–¥–µ–ª–∏—Ç—å logger –î–û –∏–º–ø–æ—Ä—Ç–æ–≤** (–¥–ª—è –º–æ–¥—É–ª–µ–π)
2. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–π import_logger** (–¥–ª—è –ª–æ–≥–æ–≤ –∏–º–ø–æ—Ä—Ç–æ–≤)
3. **–ù–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å logger –≤ –∏–º–ø–æ—Ä—Ç–∞—Ö** (–ª—É—á—à–∏–π –≤–∞—Ä–∏–∞–Ω—Ç, –Ω–æ –Ω–µ –≤—Å–µ–≥–¥–∞ —É–¥–æ–±–Ω–æ)

---

## ‚úÖ –í—Å–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ!

**–¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å:**

```bash
# –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å:
python app_enhanced.py

# –ò–ª–∏ –∫–æ–º–∞–Ω–¥–Ω–∞—è —Å—Ç—Ä–æ–∫–∞:
python final_collection.py
```

**–í—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç! üéâ**

---

**–û–±–Ω–æ–≤–ª–µ–Ω–æ:** 2025-01-09  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ  
**–¢–µ—Å—Ç—ã:** ‚úÖ –ü—Ä–æ–π–¥–µ–Ω–æ
