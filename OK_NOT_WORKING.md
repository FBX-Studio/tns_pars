# ‚ùå –ü–æ—á–µ–º—É OK Selenium –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

## üîç –ü—Ä–æ–±–ª–µ–º—ã

### **1. SSL –æ—à–∏–±–∫–∏ (–Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ)**
```
ERROR:net\socket\ssl_client_socket_impl.cc:902] handshake failed
```
**–≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ!** Chrome –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —ç—Ç–∏ –æ—à–∏–±–∫–∏, –Ω–æ –æ–Ω–∏ –Ω–µ –º–µ—à–∞—é—Ç —Ä–∞–±–æ—Ç–µ Selenium.

---

### **2. OK –Ω–µ –Ω–∞—Ö–æ–¥–∏—Ç –ø–æ—Å—Ç—ã (–∫—Ä–∏—Ç–∏—á–Ω–æ)**

**–ü—Ä–∏—á–∏–Ω—ã:**

#### **A. –ü—Ä–æ–±–ª–µ–º–∞ —Å –∫–æ–¥–∏—Ä–æ–≤–∫–æ–π –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤**
```python
Keywords: ['ÔøΩÔøΩÔøΩ ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ ÔøΩÔøΩ', 'ÔøΩÔøΩÔøΩ ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ', ...]  # –ö—Ä–∞–∫–æ–∑—è–±—Ä—ã!
```

**–†–µ—à–µ–Ω–∏–µ:**
```python
# –í ok_selenium_collector.py –∏–∑–º–µ–Ω–∏—Ç—å:
# –í–º–µ—Å—Ç–æ:
self.keywords = Config.COMPANY_KEYWORDS

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å hardcoded:
self.keywords = ['–¢–ù–° —ç–Ω–µ—Ä–≥–æ –ù–ù', '–¢–ù–° —ç–Ω–µ—Ä–≥–æ', '—ç–Ω–µ—Ä–≥–æ—Å–±—ã—Ç']
```

#### **B. OK.ru –±–ª–æ–∫–∏—Ä—É–µ—Ç –ø–æ–∏—Å–∫**
OK.ru –º–æ–∂–µ—Ç –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø–æ–∏—Å–∫–∏ —á–µ—Ä–µ–∑ Selenium.

#### **C. –ù–µ—Ç —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã—Ö –ø–æ—Å—Ç–æ–≤**
–í OK –ø—Ä–æ—Å—Ç–æ –º–æ–∂–µ—Ç –Ω–µ –±—ã—Ç—å –ø–æ—Å—Ç–æ–≤ —Å –∫–ª—é—á–µ–≤—ã–º–∏ —Å–ª–æ–≤–∞–º–∏ –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ –¥–Ω–∏.

---

## ‚úÖ –†–µ—à–µ–Ω–∏—è

### **–†–µ—à–µ–Ω–∏–µ 1: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å OK API –≤–º–µ—Å—Ç–æ Selenium (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)**

OK API —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ, —Ö–æ—Ç—å –∏ –¥–∞–µ—Ç –º–µ–Ω—å—à–µ –¥–∞–Ω–Ω—ã—Ö:

```bash
# –í final_collection.py –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å API:
python final_collection.py --no-ok  # –û—Ç–∫–ª—é—á–∏—Ç—å OK —Å–æ–≤—Å–µ–º

# –ò–ª–∏ –æ—Å—Ç–∞–≤–∏—Ç—å API (–æ–Ω –≤–∫–ª—é—á–µ–Ω –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –µ—Å–ª–∏ Selenium –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç)
```

**–ß—Ç–æ –¥–∞—Å—Ç OK API:**
- –ü–æ—Å—Ç—ã –∏–∑ –≤–∞—à–µ–π –ª–∏—á–Ω–æ–π –ª–µ–Ω—Ç—ã
- –ü–æ—Å—Ç—ã –∏–∑ –≥—Ä—É–ø–ø –≤ `OK_GROUP_IDS`
- 5-20 –ø–æ—Å—Ç–æ–≤ (–º–µ–Ω—å—à–µ —á–µ–º Selenium, –Ω–æ —Å—Ç–∞–±–∏–ª—å–Ω–æ)

---

### **–†–µ—à–µ–Ω–∏–µ 2: –î–æ–±–∞–≤–∏—Ç—å –≥—Ä—É–ø–ø—ã OK –≤—Ä—É—á–Ω—É—é**

```env
# –í .env –¥–æ–±–∞–≤—å—Ç–µ ID –≥—Ä—É–ø–ø –ù–∏–∂–Ω–µ–≥–æ –ù–æ–≤–≥–æ—Ä–æ–¥–∞:
OK_GROUP_IDS=70000002593972,53038442348715,57917644668973,53546227925099

# –ö–∞–∫ –Ω–∞–π—Ç–∏ ID –≥—Ä—É–ø–ø—ã:
# 1. –û—Ç–∫—Ä–æ–π—Ç–µ –≥—Ä—É–ø–ø—É –Ω–∞ ok.ru (–Ω–∞–ø—Ä–∏–º–µ—Ä "–ù–æ–≤–æ—Å—Ç–∏ –ù–∏–∂–Ω–µ–≥–æ –ù–æ–≤–≥–æ—Ä–æ–¥–∞")
# 2. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ ID –∏–∑ URL: ok.ru/group/12345678
# 3. –î–æ–±–∞–≤—å—Ç–µ –≤ .env
```

**–ó–∞—Ç–µ–º:**
```bash
python final_collection.py
```

OK API –±—É–¥–µ—Ç —Å–æ–±–∏—Ä–∞—Ç—å –∏–∑ —ç—Ç–∏—Ö –≥—Ä—É–ø–ø.

---

### **–†–µ—à–µ–Ω–∏–µ 3: –ò—Å–ø—Ä–∞–≤–∏—Ç—å –∫–æ–¥–∏—Ä–æ–≤–∫—É –≤ ok_selenium_collector.py**

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª `collectors/ok_selenium_collector.py`:

```python
# –°—Ç—Ä–æ–∫–∞ 12-13:
def __init__(self, sentiment_analyzer=None):
    # –í–º–µ—Å—Ç–æ:
    # self.keywords = Config.COMPANY_KEYWORDS
    
    # –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å hardcoded:
    self.keywords = ['–¢–ù–° —ç–Ω–µ—Ä–≥–æ –ù–ù', '–¢–ù–° —ç–Ω–µ—Ä–≥–æ', '—ç–Ω–µ—Ä–≥–æ—Å–±—ã—Ç', '–¢–ù–°']
    self.driver = None
    self.sentiment_analyzer = sentiment_analyzer
```

**–ó–∞—Ç–µ–º –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å:**
```bash
python test_ok_selenium.py
```

---

### **–†–µ—à–µ–Ω–∏–µ 4: –û—Ç–∫–ª—é—á–∏—Ç—å OK –ø–æ–ª–Ω–æ—Å—Ç—å—é**

–ï—Å–ª–∏ OK –Ω–µ –∫—Ä–∏—Ç–∏—á–µ–Ω, –ø—Ä–æ—Å—Ç–æ –æ—Ç–∫–ª—é—á–∏—Ç–µ:

```bash
python final_collection.py --no-ok
```

–í—ã –≤—Å—ë —Ä–∞–≤–Ω–æ –ø–æ–ª—É—á–∏—Ç–µ 100-250 –∑–∞–ø–∏—Å–µ–π –∏–∑:
- VK (50-100)
- Telegram (100-150 –∏–∑ 93 –∫–∞–Ω–∞–ª–æ–≤)
- News (20-50)
- –î–∑–µ–Ω (10-20 –µ—Å–ª–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç)

---

## üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ OK

| –ú–µ—Ç–æ–¥ | –î–∞–Ω–Ω—ã—Ö | –°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å | –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è |
|-------|--------|--------------|--------------|
| **OK API** | 5-20 | ‚úÖ –í—ã—Å–æ–∫–∞—è | ‚≠ê –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å |
| **OK Selenium** | 20-50 | ‚ö†Ô∏è –°—Ä–µ–¥–Ω—è—è | –ï—Å–ª–∏ –∏—Å–ø—Ä–∞–≤–∏—Ç—å |
| **–ë–µ–∑ OK** | 0 | ‚úÖ –ë–µ–∑ –ø—Ä–æ–±–ª–µ–º | –ï—Å–ª–∏ –Ω–µ –Ω—É–∂–µ–Ω |

---

## üöÄ –†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### **–í–∞—Ä–∏–∞–Ω—Ç 1: OK API + –≥—Ä—É–ø–ø—ã (–ª—É—á—à–∏–π)**

```env
# –í .env:
OK_GROUP_IDS=70000002593972,53038442348715,57917644668973
```

```bash
python final_collection.py
```

**–ß—Ç–æ –ø–æ–ª—É—á–∏—Ç–µ:**
- VK: 50-100
- Telegram: 100-150
- News: 20-50
- –î–∑–µ–Ω: 10-20
- OK API: 5-20
- **–ò—Ç–æ–≥–æ: 185-340 –∑–∞–ø–∏—Å–µ–π**

---

### **–í–∞—Ä–∏–∞–Ω—Ç 2: –ë–µ–∑ OK (—Å–∞–º—ã–π –±—ã—Å—Ç—Ä—ã–π)**

```bash
python final_collection.py --no-ok
```

**–í—Ä–µ–º—è:** 15-20 –º–∏–Ω—É—Ç  
**–î–∞–Ω–Ω—ã—Ö:** 180-320 –∑–∞–ø–∏—Å–µ–π

---

### **–í–∞—Ä–∏–∞–Ω—Ç 3: –ò—Å–ø—Ä–∞–≤–∏—Ç—å OK Selenium**

1. –ò—Å–ø—Ä–∞–≤–∏—Ç—å –∫–æ–¥–∏—Ä–æ–≤–∫—É (—Å–º. –†–µ—à–µ–Ω–∏–µ 3)
2. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å: `python test_ok_selenium.py`
3. –ï—Å–ª–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç: `python final_collection.py`

---

## üîß –ë—ã—Å—Ç—Ä–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–¥–∏—Ä–æ–≤–∫–∏

```bash
# –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∏ –≤—Å—Ç–∞–≤—å—Ç–µ –≤ PowerShell:
$file = "C:\tns_pars\collectors\ok_selenium_collector.py"
$content = Get-Content $file -Encoding UTF8 -Raw
$content = $content -replace "self.keywords = Config.COMPANY_KEYWORDS", "self.keywords = ['–¢–ù–° —ç–Ω–µ—Ä–≥–æ –ù–ù', '–¢–ù–° —ç–Ω–µ—Ä–≥–æ', '—ç–Ω–µ—Ä–≥–æ—Å–±—ã—Ç', '–¢–ù–°']"
Set-Content $file $content -Encoding UTF8
Write-Host "OK Selenium fixed!"
```

**–ó–∞—Ç–µ–º —Ç–µ—Å—Ç:**
```bash
python test_ok_selenium.py
```

---

## ‚úÖ –ò—Ç–æ–≥

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** 
1. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ OK API** (—Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ)
2. **–î–æ–±–∞–≤—å—Ç–µ –≥—Ä—É–ø–ø—ã** –≤ `OK_GROUP_IDS`
3. **–ò–ª–∏ –æ—Ç–∫–ª—é—á–∏—Ç–µ OK:** `python final_collection.py --no-ok`

**OK Selenium** - –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª–µ–Ω, API –¥–∞–µ—Ç –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–∞–Ω–Ω—ã—Ö.

---

**–û–±–Ω–æ–≤–ª–µ–Ω–æ:** 2025-01-09  
**–°—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è OK Selenium –∏–º–µ–µ—Ç –ø—Ä–æ–±–ª–µ–º—ã, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ OK API  
**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** `python final_collection.py` (–±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å API –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
