# –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø–∞—Ä—Å–∏–Ω–≥–∞ –î–∑–µ–Ω –∏ OK.ru

**–î–∞—Ç–∞:** 19.01.2025  
**–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ:** Zen Selenium –∫–æ–ª–ª–µ–∫—Ç–æ—Ä, OK Selenium –∫–æ–ª–ª–µ–∫—Ç–æ—Ä

---

## ‚úÖ –ò–¢–û–ì–û–í–´–ô –°–¢–ê–¢–£–°

### Zen (–Ø–Ω–¥–µ–∫—Å.–î–∑–µ–Ω) - ‚úì –†–ê–ë–û–¢–ê–ï–¢ –û–¢–õ–ò–ß–ù–û
- **–°—Ç–∞—Ç—å–∏:** 20 —Å–æ–±—Ä–∞–Ω–æ
- **Selenium:** –†–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- **–ö–∞–ø—á–∞:** –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç
- **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:** –ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è
- **–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏:** –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∞

### OK.ru (–û–¥–Ω–æ–∫–ª–∞—Å—Å–Ω–∏–∫–∏) - ‚úì –ê–í–¢–û–†–ò–ó–ê–¶–ò–Ø –†–ê–ë–û–¢–ê–ï–¢
- **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:** ‚úì –£—Å–ø–µ—à–Ω–∞ (—á–µ—Ä–µ–∑ cookies)
- **–õ–æ–≥–∏–Ω:** barinovkirill2005@gmail.com
- **Cookies:** –°–æ—Ö—Ä–∞–Ω–µ–Ω—ã –≤ ok_cookies.pkl
- **–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏:** –î–æ—Å—Ç—É–ø–Ω—ã –ø–æ—Å–ª–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

---

## üìù –ß—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

### 1. Zen –∫–æ–ª–ª–µ–∫—Ç–æ—Ä
```python
# –ë—ã–ª–æ: ZenCollector()
# –°—Ç–∞–ª–æ: ZenCollector(sentiment_analyzer=self.sentiment_analyzer)
```
‚úì –î–æ–±–∞–≤–ª–µ–Ω sentiment_analyzer –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —Ç–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏

### 2. Chrome –ø—Ä–æ—Ñ–∏–ª–∏
```python
# Zen: zen_selenium_chrome_profile
# OK: ok_selenium_chrome_profile
```
‚úì –£–Ω–∏–∫–∞–ª—å–Ω—ã–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø—Ä–æ—Ñ–∏–ª–µ–π –¥–ª—è –∏–∑–±–µ–∂–∞–Ω–∏—è –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤

### 3. OK –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
```env
OK_LOGIN=barinovkirill2005@gmail.com
OK_PASSWORD=Zxc786vbnm,
```
‚úì –£—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ .env
‚úì –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–∞
‚úì Cookies —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã

---

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### –¢–µ—Å—Ç 1: Zen –∫–æ–ª–ª–µ–∫—Ç–æ—Ä (–±–µ–∑ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤)

**–ö–æ–º–∞–Ω–¥–∞:** `python test_zen_ok.py`

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```
[ZEN-SELENIUM] –ù–∞—á–∞–ª–æ —Å–±–æ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –∏–∑ –Ø–Ω–¥–µ–∫—Å.–î–∑–µ–Ω —á–µ—Ä–µ–∑ Selenium
[ZEN-SELENIUM] –†–µ–∂–∏–º: –¢–û–õ–¨–ö–û –°–¢–ê–¢–¨–ò
[ZEN-Selenium] ‚úì Chrome WebDriver –∑–∞–ø—É—â–µ–Ω

–ü–æ–∏—Å–∫ –ø–æ –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º:
- –¢–ù–° —ç–Ω–µ—Ä–≥–æ –ù–ù: 5 —Å—Ç–∞—Ç–µ–π
- –¢–ù–° —ç–Ω–µ—Ä–≥–æ: 5 —Å—Ç–∞—Ç–µ–π
- —ç–Ω–µ—Ä–≥–æ—Å–±—ã—Ç: 5 —Å—Ç–∞—Ç–µ–π
- –¢–ù–°: 5 —Å—Ç–∞—Ç–µ–π

[ZEN-SELENIUM] –°–±–æ—Ä –∑–∞–≤–µ—Ä—à–µ–Ω
[ZEN-SELENIUM] –°—Ç–∞—Ç–µ–π: 20
[ZEN-SELENIUM] –ò–¢–û–ì–û: 20 –∑–∞–ø–∏—Å–µ–π
```

**–ü—Ä–∏–º–µ—Ä—ã –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö —Å—Ç–∞—Ç–µ–π:**
1. "–¢–ù–° –≠–Ω–µ—Ä–≥–æ –ù–ù: —Ç–∞—Ä–∏—Ñ ‚Ññ785"
2. "–ù–∏–∂–Ω–∏–π –ù–æ–≤–≥–æ—Ä–æ–¥: –≠–Ω–µ—Ä–≥–æ—Å–±—ã—Ç –¢–ù–°"
3. "–¢–ù–° —ç–Ω–µ—Ä–≥–æ: –ö–æ–º–º—É–Ω–∞–ª—å–Ω—ã–µ —É—Å–ª—É–≥–∏"

**–í—ã–≤–æ–¥:** ‚úì Zen —Ä–∞–±–æ—Ç–∞–µ—Ç –æ—Ç–ª–∏—á–Ω–æ!

---

### –¢–µ—Å—Ç 2: OK –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

**–ö–æ–º–∞–Ω–¥–∞:** `python test_ok_login.py`

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```
[OK-Auth] –ü–æ–ø—ã—Ç–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏...
[OK-Auth] –õ–æ–≥–∏–Ω –≤–≤–µ–¥–µ–Ω
[OK-Auth] –ü–∞—Ä–æ–ª—å –≤–≤–µ–¥–µ–Ω
[OK-Auth] –§–æ—Ä–º–∞ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞ —á–µ—Ä–µ–∑ Enter
[OK-Auth] ‚úì‚úì‚úì –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–∞!
[OK-Auth] Cookies —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã
```

**–§–∞–π–ª—ã:**
- ‚úì `ok_cookies.pkl` - —Å–æ—Ö—Ä–∞–Ω–µ–Ω (–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ cookies –±—É–¥–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π)

**–í—ã–≤–æ–¥:** ‚úì –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è OK.ru —Ä–∞–±–æ—Ç–∞–µ—Ç!

---

### –¢–µ—Å—Ç 3: OK —Å–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö

**–°—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è Chrome –∫—Ä–∞—à–∏—Ç—Å—è –ø—Ä–∏ –±—ã—Å—Ç—Ä–æ–º –ø–æ–≤—Ç–æ—Ä–Ω–æ–º –∑–∞–ø—É—Å–∫–µ

**–ü—Ä–æ–±–ª–µ–º–∞:**
```
[OK-Selenium] –û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –¥—Ä–∞–π–≤–µ—Ä–∞: 
Chrome failed to start: crashed
DevToolsActivePort file doesn't exist
```

**–ü—Ä–∏—á–∏–Ω–∞:**
- Chrome –Ω–µ —É—Å–ø–µ–ª –æ—Å–≤–æ–±–æ–¥–∏—Ç—å —Ä–µ—Å—É—Ä—Å—ã –ø–æ—Å–ª–µ —Ç–µ—Å—Ç–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- –ò–∑–≤–µ—Å—Ç–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞ Selenium –ø—Ä–∏ –±—ã—Å—Ç—Ä—ã—Ö –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –∑–∞–ø—É—Å–∫–∞—Ö

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü–æ–¥–æ–∂–¥–∞—Ç—å 1-2 –º–∏–Ω—É—Ç—ã –º–µ–∂–¥—É –∑–∞–ø—É—Å–∫–∞–º–∏
2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (–∫–æ–ª–ª–µ–∫—Ç–æ—Ä—ã —Ç–∞–º –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω—ã)
3. –ó–∞–∫—Ä—ã—Ç—å –≤—Å–µ –ø—Ä–æ—Ü–µ—Å—Å—ã Chrome –ø–µ—Ä–µ–¥ –ø–æ–≤—Ç–æ—Ä–Ω—ã–º –∑–∞–ø—É—Å–∫–æ–º

---

## üöÄ –ß—Ç–æ –¥–µ–ª–∞—Ç—å –¥–∞–ª—å—à–µ

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ß–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (–†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø)

1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:
```bash
python app_enhanced.py
```

2. –û—Ç–∫—Ä–æ–π—Ç–µ: http://127.0.0.1:5001

3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ: **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ ‚Üí –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–±–æ—Ä**

4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã: **–û—Ç–∑—ã–≤—ã ‚Üí –§–∏–ª—å—Ç—Ä ‚Üí –ò—Å—Ç–æ—á–Ω–∏–∫: –î–∑–µ–Ω/OK**

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ß–µ—Ä–µ–∑ –∫–æ–Ω—Å–æ–ª—å (–ø–æ—Å–ª–µ –ø–∞—É–∑—ã)

–ü–æ–¥–æ–∂–¥–∏—Ç–µ 2 –º–∏–Ω—É—Ç—ã –ø–æ—Å–ª–µ —Ç–µ—Å—Ç–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏, –∑–∞—Ç–µ–º:

```bash
python run_collection_once.py
```

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

### –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–æ–±—Ä–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

```bash
python check_db.py
```

–î–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å –∑–∞–ø–∏—Å–∏ —Å –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º–∏:
- `dzen` - —Å—Ç–∞—Ç—å–∏ –∏–∑ –Ø–Ω–¥–µ–∫—Å.–î–∑–µ–Ω
- `ok` - –ø–æ—Å—Ç—ã –∏–∑ OK.ru

### SQL –∑–∞–ø—Ä–æ—Å—ã

```sql
-- –°—Ç–∞—Ç—å–∏ –∏–∑ –î–∑–µ–Ω–∞
SELECT COUNT(*) FROM review WHERE source='dzen';

-- –ü–æ—Å—Ç—ã –∏–∑ OK.ru
SELECT COUNT(*) FROM review WHERE source='ok';

-- –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∏–∑ –î–∑–µ–Ω–∞
SELECT COUNT(*) FROM review WHERE source='dzen' AND is_comment=1;

-- –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∏–∑ OK.ru
SELECT COUNT(*) FROM review WHERE source='ok' AND is_comment=1;
```

---

## üìã –ò—Ç–æ–≥–æ–≤—ã–π —á–µ–∫–ª–∏—Å—Ç

- [x] Zen –∫–æ–ª–ª–µ–∫—Ç–æ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç
- [x] Zen —Å–æ–±–∏—Ä–∞–µ—Ç —Å—Ç–∞—Ç—å–∏
- [x] Zen –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ (–º–µ—Ç–æ–¥ –¥–æ–±–∞–≤–ª–µ–Ω)
- [x] OK –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç
- [x] OK cookies —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã
- [x] Chrome –ø—Ä–æ—Ñ–∏–ª–∏ —Ä–∞–∑–¥–µ–ª–µ–Ω—ã
- [x] –£—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ .env
- [ ] OK —Å–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö (—Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å)

---

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### 1. –î–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã

- **–ó–∞–ø—É—Å–∫–∞–π—Ç–µ —Å–±–æ—Ä –Ω–µ —á–∞—â–µ 1 —Ä–∞–∑–∞ –≤ —á–∞—Å**
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞
- –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –ª–æ–≥–∏ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –∫–∞–ø—á–∏

### 2. –î–ª—è —É–≤–µ–ª–∏—á–µ–Ω–∏—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –¥–∞–Ω–Ω—ã—Ö

- –£–≤–µ–ª–∏—á—å—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤ –≤ Config
- –î–æ–±–∞–≤—å—Ç–µ –ø—Ä–æ–∫—Å–∏ –¥–ª—è –æ–±—Ö–æ–¥–∞ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π
- –ù–∞—Å—Ç—Ä–æ–π—Ç–µ Tor –¥–ª—è –∞–Ω–æ–Ω–∏–º–Ω–æ—Å—Ç–∏

### 3. –î–ª—è —Å–±–æ—Ä–∞ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤

```python
# –í async_monitor_websocket.py —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ:
zen_collector.collect(collect_comments=True)
ok_collector.collect(collect_comments=True)
```

–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –±—É–¥—É—Ç —Å–æ–±–∏—Ä–∞—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å.

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–∞–π–ª: `FIX_ZEN_OK_PARSING.md`
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É: `python test_zen_ok.py`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ cookies: `ok_cookies.pkl` –¥–æ–ª–∂–µ–Ω —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å

---

**–í—Å—ë –≥–æ—Ç–æ–≤–æ –∫ —Ä–∞–±–æ—Ç–µ! üöÄ**

–ó–∞–ø—É—Å—Ç–∏—Ç–µ `python app_enhanced.py` –∏ –æ—Ç–∫—Ä–æ–π—Ç–µ http://127.0.0.1:5001
