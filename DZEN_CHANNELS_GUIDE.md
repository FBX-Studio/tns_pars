# Руководство по добавлению каналов Яндекс.Дзен

## Как найти и добавить каналы Дзена для мониторинга

### Шаг 1: Найдите нужные каналы

1. **Откройте Яндекс.Дзен** в браузере: https://dzen.ru
2. **Найдите каналы** по теме энергетика, ЖКХ, Нижний Новгород
3. **Скопируйте ссылку** на канал

### Шаг 2: Извлеките ID канала

Ссылка на канал Дзена выглядит так:
```
https://dzen.ru/id/62d1234567890abcdef12345
```

Вам нужна часть после `/id/`:
```
62d1234567890abcdef12345
```

### Шаг 3: Добавьте каналы в .env файл

Откройте файл `.env` и найдите строку:
```
DZEN_CHANNELS=
```

Добавьте ID каналов через запятую:
```
DZEN_CHANNELS=62d1234567890abcdef12345,62d9876543210fedcba54321,62dabcd1234567890efgh123
```

**ИЛИ** добавьте полные ссылки:
```
DZEN_CHANNELS=https://dzen.ru/id/62d1234567890abcdef12345,https://dzen.ru/id/62d9876543210fedcba54321
```

### Пример поиска каналов

#### Для энергетики и ЖКХ:

1. Зайдите на https://dzen.ru
2. Введите в поиск: "энергетика нижний новгород" или "жкх нижний новгород"
3. Перейдите на интересующий канал
4. Скопируйте ссылку из адресной строки
5. Извлеките ID

#### Рекомендуемые темы для поиска:

- Энергетика Нижнего Новгорода
- ЖКХ НН
- Коммунальные услуги
- Электроснабжение
- Новости Нижнего Новгорода
- Тарифы ЖКХ

### Шаг 4: Проверьте что каналы добавлены

Запустите тест:
```bash
python test_dzen_manual.py
```

### Формат RSS

Каналы Дзена имеют RSS ленту по адресу:
```
https://dzen.ru/id/CHANNEL_ID/rss
```

Коллектор автоматически добавляет `/rss` к ID канала.

### Пример настройки в .env

```env
# Яндекс.Дзен - список каналов для мониторинга
# Формат: ID канала или полная ссылка на канал
# Пример: https://dzen.ru/id/канал_id или просто канал_id
# ДОБАВЬТЕ СВОИ КАНАЛЫ НИЖЕ:
DZEN_CHANNELS=62d1234567890abcdef12345,62d9876543210fedcba54321,62dabcd1234567890efgh123
```

### Как работает парсинг

1. Коллектор берет ID каждого канала
2. Формирует URL RSS: `https://dzen.ru/id/CHANNEL_ID/rss`
3. Парсит RSS ленту (последние 20 статей)
4. Фильтрует по ключевым словам (ТНС энерго и т.д.)
5. Сохраняет релевантные статьи в базу данных

### Советы

✅ **Добавляйте несколько каналов** - так больше шансов найти упоминания  
✅ **Проверяйте что каналы активны** - заходите на них и смотрите что есть свежие посты  
✅ **Ищите локальные каналы** - каналы про Нижний Новгород будут актуальнее  

❌ **Не добавляйте слишком много** - начните с 5-10 каналов, потом расширяйте  
❌ **Избегайте неактивных каналов** - если канал не обновляется месяцами, толку не будет  

### Где искать каналы

**Официальные источники:**
- Администрация Нижнего Новгорода
- Местные СМИ на Дзене
- Энергетические компании
- ЖКХ службы

**Тематические каналы:**
- Коммунальные новости
- Тарифы и услуги
- Потребительские права
- Городские новости

### Проблемы и решения

**Проблема:** "Канал не парсится"  
**Решение:** Проверьте что ссылка правильная, попробуйте открыть `https://dzen.ru/id/CHANNEL_ID/rss` в браузере

**Проблема:** "Нет релевантных статей"  
**Решение:** Канал может быть не про энергетику, попробуйте другие

**Проблема:** "RSS не работает"  
**Решение:** Некоторые каналы могут не иметь RSS, используйте только те, где есть

### Тестирование

После добавления каналов запустите тест:

```bash
python test_dzen_manual.py
```

Или запустите полный сбор:
```bash
python app_enhanced.py
# Откройте http://localhost:5000
# Нажмите "Запустить сбор"
```

### Примеры каналов (гипотетические)

```
DZEN_CHANNELS=\
62d1234567890abcdef12345,\
62d9876543210fedcba54321,\
62dabcd1234567890efgh123,\
62dxyz0123456789abcdef456,\
62dqwe9876543210zyxwvu789
```

---

**Готово!** После добавления каналов коллектор автоматически начнет парсить их при каждом запуске мониторинга.
